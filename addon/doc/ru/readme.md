# Tone Master #

* Авторы: Hrvoje Katić
* Загрузить [стабильную версию][1]

Добро пожаловать в Tone Master! Я создал это маленькое дополнение NVDA
просто для удовольствия, надеюсь, что вы также получите удовольствие при его
использовании.

Я всегда хотел создавать музыкальные мелодии с помощью NVDA, а не просто
слушать пипикание индикаторов выполнения и ошибок NVDA. Однако, это не так
уж легко сделать, поэтому сначала я хотел это упростить. Вот почему я
написал Tone Master. Только представьте, насколько это может быть
интересным, услышать в исполнении NVDA пьесы Моццарта, или Бетховена, или
может быть величайшие хиты Роллинг Стоунз. Хотя конечный результат звучит
как рингтоны старого мобильного телефона, это может быть смешно.

Tone Master упрощает процесс воспроизведения последовательностей сигналов
путём реализации файлов данных сигналов. Эти файлы можно редактировать вашим
текстовым редактором и затем сохранить их для воспроизведения с помощью
NVDA. Читайте дальше для получения инструкций!

## Файлы данных сигналов

Прежде чем воспроизвести вашу первую мелодию с помощью Tone Master, вы
сначала должны создать и загрузить файл данных сигналов. Файлы данных
сигналов представляют собой простые текстовые файлы с расширением .tdf. Tone
Master использует эти файлы для обработки и воспроизведения
последовательностей сигналов. Для создания успешно воспроизводящегося файла
данных сигналов для Tone Master, следуйте простым правилам, описанным ниже.

1. Каждая строка файла .tdf *должна* содержать три параметра, разделяемые
   двоеточием (:). Первый параметр - это высота сигнала, второй параметр -
   это длительность сигнала, и третий  - это длительность между каждым
   сигналом. Необходимо указать все три параметра, иначе Tone Master не
   сможет проигрывать ваши данные сигналов.
2. Параметры высоты и длительности должны быть указаны целыми числами, а
   реальное значение параметра тишины должно указываться десятичной дробью.
3. Знак решётка (#) в начале любой строки файла .tdf будет трактоваться как
   комментарий, и Tone Master его проигнорирует.

Пример: Проиграть последовательность из 3 сигналов

1500:100:0.5

1000:100:0.09

500:100:0.7

В этом примере, первый сигнал последовательности имеет высоту 1500,
длительность 100 и тишину  0.5. У второго сигнала - высота 1000,
длительность 100, и тишина 0.09. Последний сигнал последовательности имеет
высоту 500, длительность 100, и тишину 0.7.

Обратите внимание на то, что параметр тишины необходимо указывать всегда,
даже когда он не нужен, потому что если не указывать, NVDA будет заменять
предыдущий сигнал одним из следующих, и вы будете получать неожидаемые
результаты. Вот почему я сделал это необходимым.

Для более подробного ознакомления с синтаксисом файлов данных сигналов,
пожалуйста, посмотрите и попробуйте изменить, например, файл этого
дополнения. Он расположен в папке "tones", где так же должны быть
расположены все ваши файлы .tdf.

## Горячие клавиши

* Alt+NVDA+T: Воспроизводит текущие загруженные данные сигналов, если всё в
  порядке.
* Alt+Shift+NVDA+T: Останавливает воспроизведение текущих данных сигналов,
  если воспроизводятся любые данные сигналов.
* Alt+NVDA+N: Создаёт и открывает для редактирования в блокноте новый пустой
  файл данных сигналов.
* Alt+NVDA+L: Открывает диалог выбора, позволяющий загрузить один из
  доступных файлов данных сигналов для воспроизведения.
* Alt+NVDA+E: Открывает текущий загруженный файл данных сигналов в блокноте
  для редактирования.
* Alt+NVDA+O: Открывает папку с файлами данных сигналов, где вы должны их
  сохранять для того, чтобы они были доступны в расположении Tone Master.

## Другие примечания

Вы также можете создавать, редактировать и загружать файлы данных сигналов,
или открывать папку сигналов, где эти файлы находятся, зайдя в меню NVDA,
подменю Сервис, подменю Tone Master.

Когда появится диалог для создания нового файла данных сигналов, введите имя
без расширения .tdf. Tone Master автоматически добавит расширение. Если имя
не было указано, Tone Master будет использовать имя по умолчанию
"untitled.tdf". Tone Master автоматически создаст и загрузит новый файл, а
также откроет его в блокноте для редактирования. Нажмите клавишу Escape на
запрос имени файла для отмены создания нового файла.

Примечание: Для редактирования файлов данных сигналов Tone Master использует
блокнот, поскольку он поставляется с Windows по умолчанию и поэтому они
будут доступны на любом компьютере.

Когда открыт диалог для загрузки файла данных сигналов, используйте клавиши
со стрелками, чтобы выбрать файл для загрузки, затем нажмите клавишу
Enter. Нажмите клавишу Escape, чтобы отменить загрузку.

Когда вы откроете папку с файлами .tdf, вы можете загружать их в свой
текстовый редактор для просмотра и редактирования. Однако, я рекомендую, по
возможности,  изначально загружать их в Tone Master, чтобы прослушивать
результаты налету. Затем вы можете редактировать файл, сохранять вашу
работу, и после каждого сохранения вы сможете использовать команду
воспроизведения для прослушивания последнего результата.

## Изменения для 1.2

* Исправлено: Addressed major issue where selecting an empty tone data, then
  selecting another one and trying to play it results in tone data not being
  played.

## Изменения для 1.1

* Добавлено: Возможность создать новый файл данных сигналов и открыть его в
  блокноте для редактирования.
* Добавлено: Возможность редактирования текущего загруженного файла данных
  сигналов блокнотом.
* Улучшено: Сообщения об ошибках теперь более удобны для пользователей.
* Улучшено: Некоторые функции дополнения, такие как открытие папок сигналов
  или редактирование файлов данных сигналов блокнотом теперь запрещены на
  защищенных экранах.
* Улучшено: Пользователь будет уведомлён средствами NVDA об остановке
  воспроизведения файла данных.
* Исправлено: Запрещено воспроизведение другого файла данных сигналов, когда
  один уже воспроизводится.

## Изменения для 1.0

* Первый выпуск

[[!tag dev stable]]

[1]: https://addons.nvda-project.org/files/get.php?file=tmast
